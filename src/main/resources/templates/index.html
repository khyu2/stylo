<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/base}">
<head>
    <title>Stylo - 패션 커머스</title>
</head>
<body>
<div layout:fragment="content">
    <!-- Main Category Section -->
    <div class="bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Category Title -->
            <div class="text-center py-8">
                <h1 class="text-4xl font-bold text-gray-900">신상 베스트</h1>
            </div>

            <!-- Sub Category Navigation -->
            <div class="flex justify-center space-x-8 border-b border-gray-200 pb-4"
                 x-data="{ selectedCategory: '전체' }">
                <th:block th:each="category : ${categories}">
                    <a href="#"
                       @click="selectedCategory = $el.textContent.trim()"
                       :class="selectedCategory === $el.textContent.trim() 
                               ? 'text-primary-600 font-medium border-b-2 border-primary-600 pb-2' 
                               : 'text-gray-600 hover:text-primary-600 font-medium'"
                       class="transition-all duration-200"
                       th:text="${category.name}"></a>
                </th:block>
            </div>

            <!-- Main Content with Filter and Products -->
            <div class="flex gap-8 py-8">
                <!-- Left Sidebar Filter -->
                <div class="w-64 flex-shrink-0">
                    <div class="bg-gray-50 p-6 rounded-lg"
                         x-data="{
                             priceFilters: [],
                             genderFilters: [],
                             sizeFilters: [],
                             colorFilters: [],
                             clearAllFilters() {
                                 this.priceFilters = [];
                                 this.genderFilters = [];
                                 this.sizeFilters = [];
                                 this.colorFilters = [];
                                 // 모든 체크박스 해제
                                 this.$el.querySelectorAll('input[type=checkbox]').forEach(checkbox => {
                                     checkbox.checked = false;
                                 });
                             }
                         }">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">필터</h3>

                        <!-- Price Range -->
                        <div class="mb-6">
                            <h4 class="text-sm font-medium text-gray-700 mb-3">가격대</h4>
                            <div class="space-y-2 select-none">
                                <label class="flex items-center cursor-pointer">
                                    <input type="checkbox"
                                           x-model="priceFilters"
                                           value="0-10000"
                                           class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                                    <span class="ml-2 text-sm text-gray-600 select-none">~ 10,000원</span>
                                </label>
                                <label class="flex items-center cursor-pointer">
                                    <input type="checkbox"
                                           x-model="priceFilters"
                                           value="10000-30000"
                                           class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                                    <span class="ml-2 text-sm text-gray-600 select-none">10,000원 ~ 30,000원</span>
                                </label>
                                <label class="flex items-center cursor-pointer">
                                    <input type="checkbox"
                                           x-model="priceFilters"
                                           value="30000-50000"
                                           class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                                    <span class="ml-2 text-sm text-gray-600 select-none">30,000원 ~ 50,000원</span>
                                </label>
                                <label class="flex items-center cursor-pointer">
                                    <input type="checkbox"
                                           x-model="priceFilters"
                                           value="50000+"
                                           class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                                    <span class="ml-2 text-sm text-gray-600 select-none">50,000원 ~</span>
                                </label>
                            </div>
                        </div>

                        <!-- Gender -->
                        <div class="mb-6">
                            <h4 class="text-sm font-medium text-gray-700 mb-3">성별</h4>
                            <div class="space-y-2 select-none">
                                <th:block th:each="genderOption : ${genderOptions}">
                                    <label class="flex items-center cursor-pointer">
                                        <input type="checkbox"
                                               x-model="genderFilters"
                                               th:value="${genderOption.genderId}"
                                               class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                                        <span class="ml-2 text-sm text-gray-600 select-none" th:text="${genderOption.name}"></span>
                                    </label>
                                </th:block>
                            </div>
                        </div>

                        <!-- Size -->
                        <div class="mb-6">
                            <h4 class="text-sm font-medium text-gray-700 mb-3">사이즈</h4>
                            <div class="grid grid-cols-3 gap-2 select-none">
                                <th:block th:each="sizeOption : ${sizeOptions}">
                                    <label class="flex items-center cursor-pointer">
                                        <input type="checkbox"
                                               x-model="sizeFilters"
                                               th:value="${sizeOption.sizeId}"
                                               class="rounded border-gray-300 text-primary-600 focus:ring-primary-500">
                                        <span class="ml-2 text-sm text-gray-600 select-none" th:text="${sizeOption.name}"></span>
                                    </label>
                                </th:block>
                            </div>
                        </div>

                        <!-- Color -->
                        <div class="mb-6">
                            <h4 class="text-sm font-medium text-gray-700 mb-3">색상</h4>
                            <div class="grid grid-cols-4 gap-2 select-none">
                                <th:block th:each="colorOption : ${colorOptions}">
                                    <label class="relative cursor-pointer">
                                        <input type="checkbox"
                                               x-model="colorFilters"
                                               th:value="${colorOption.colorId}"
                                               class="sr-only peer">
                                        <div class="w-6 h-6 rounded-full border-2 border-gray-300 transition-all duration-200 peer-checked:border-primary-600 peer-checked:ring-2 peer-checked:ring-primary-200"
                                             th:style="'background-color: ' + ${colorOption.hexCode}"
                                             th:title="${colorOption.name}"></div>
                                        <div class="absolute inset-0 flex items-center justify-center opacity-0 peer-checked:opacity-100 transition-opacity duration-200">
                                            <i data-lucide="check" class="w-4 h-4 stroke-[3]"></i>
                                        </div>
                                    </label>
                                </th:block>
                            </div>
                        </div>

                        <!-- Clear Filters Button -->
                        <button @click="clearAllFilters()"
                                class="w-full bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition-colors select-none">
                            필터 초기화
                        </button>
                    </div>
                </div>

                <!-- Right Side Products Grid -->
                <div class="flex-1">
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                        <!-- Product Card 1 -->
                        <div class="group relative">
                            <div class="aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-lg bg-gray-200">
                                <img src="https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                                     alt="Product"
                                     class="h-full w-full object-cover object-center group-hover:opacity-75">
                                <div class="absolute top-2 left-2 bg-purple-600 text-white text-xs px-2 py-1 rounded">
                                    BEST
                                </div>
                            </div>
                            <div class="mt-4">
                                <h3 class="text-sm text-gray-700">베이직 티셔츠</h3>
                                <p class="mt-1 text-lg font-medium text-gray-900">₩29,000</p>
                            </div>
                        </div>

                        <!-- Product Card 2 -->
                        <div class="group relative">
                            <div class="aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-lg bg-gray-200">
                                <img src="https://images.unsplash.com/photo-1544966503-7cc5ac882d5f?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                                     alt="Product"
                                     class="h-full w-full object-cover object-center group-hover:opacity-75">
                            </div>
                            <div class="mt-4">
                                <h3 class="text-sm text-gray-700">데님 팬츠</h3>
                                <p class="mt-1 text-lg font-medium text-gray-900">₩89,000</p>
                            </div>
                        </div>

                        <!-- Product Card 3 -->
                        <div class="group relative">
                            <div class="aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-lg bg-gray-200">
                                <img src="https://images.unsplash.com/photo-1551028719-00167b16eac5?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                                     alt="Product"
                                     class="h-full w-full object-cover object-center group-hover:opacity-75">
                            </div>
                            <div class="mt-4">
                                <h3 class="text-sm text-gray-700">가죽 자켓</h3>
                                <p class="mt-1 text-lg font-medium text-gray-900">₩199,000</p>
                            </div>
                        </div>

                        <!-- Product Card 4 -->
                        <div class="group relative">
                            <div class="aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-lg bg-gray-200">
                                <img src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                                     alt="Product"
                                     class="h-full w-full object-cover object-center group-hover:opacity-75">
                            </div>
                            <div class="mt-4">
                                <h3 class="text-sm text-gray-700">스니커즈</h3>
                                <p class="mt-1 text-lg font-medium text-gray-900">₩129,000</p>
                            </div>
                        </div>

                        <!-- Product Card 5 -->
                        <div class="group relative">
                            <div class="aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-lg bg-gray-200">
                                <img src="https://images.unsplash.com/photo-1434389677669-e08b4cac3105?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                                     alt="Product"
                                     class="h-full w-full object-cover object-center group-hover:opacity-75">
                            </div>
                            <div class="mt-4">
                                <h3 class="text-sm text-gray-700">니트 스웨터</h3>
                                <p class="mt-1 text-lg font-medium text-gray-900">₩79,000</p>
                            </div>
                        </div>

                        <!-- Product Card 6 -->
                        <div class="group relative">
                            <div class="aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-lg bg-gray-200">
                                <img src="https://images.unsplash.com/photo-1509631179647-0177331693ae?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                                     alt="Product"
                                     class="h-full w-full object-cover object-center group-hover:opacity-75">
                            </div>
                            <div class="mt-4">
                                <h3 class="text-sm text-gray-700">플리츠 스커트</h3>
                                <p class="mt-1 text-lg font-medium text-gray-900">₩59,000</p>
                            </div>
                        </div>

                        <!-- Product Card 7 -->
                        <div class="group relative">
                            <div class="aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-lg bg-gray-200">
                                <img src="https://images.unsplash.com/photo-1445205170230-053b83016050?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                                     alt="Product"
                                     class="h-full w-full object-cover object-center group-hover:opacity-75">
                            </div>
                            <div class="mt-4">
                                <h3 class="text-sm text-gray-700">블라우스</h3>
                                <p class="mt-1 text-lg font-medium text-gray-900">₩45,000</p>
                            </div>
                        </div>

                        <!-- Product Card 8 -->
                        <div class="group relative">
                            <div class="aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-lg bg-gray-200">
                                <img src="https://images.unsplash.com/photo-1551698618-1dfe5d97d256?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80"
                                     alt="Product"
                                     class="h-full w-full object-cover object-center group-hover:opacity-75">
                            </div>
                            <div class="mt-4">
                                <h3 class="text-sm text-gray-700">트렌치 코트</h3>
                                <p class="mt-1 text-lg font-medium text-gray-900">₩299,000</p>
                            </div>
                        </div>
                    </div>

                    <!-- Pagination -->
                    <div class="mt-12 flex justify-center">
                        <nav class="flex items-center space-x-2">
                            <a href="#"
                               class="px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50">이전</a>
                            <a href="#"
                               class="px-3 py-2 text-sm font-medium text-white bg-primary-600 border border-primary-600 rounded-md">1</a>
                            <a href="#"
                               class="px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50">2</a>
                            <a href="#"
                               class="px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50">3</a>
                            <a href="#"
                               class="px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50">다음</a>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>